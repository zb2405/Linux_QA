# Linux Server QA Automation (Ansible Role)

## Overview

This project provides an automated Quality Assurance (QA) framework for
validating newly built Linux servers using **Ansible** and **Python**.
It performs structured validation of system configuration, services,
storage, networking, DNS, and OS registration, then generates a
formatted Excel QA report.

The solution is designed for enterprise build validation workflows where
consistency, auditability, and repeatable checks are required.

------------------------------------------------------------------------

## Features

-   Automated server QA validation using Ansible
-   Interactive prompts for build metadata
-   Physical and virtual server support
-   DNS, AD, OS registration, and service checks
-   Monitoring agent validation (NQM / Patrol)
-   Excel report generation using `openpyxl`
-   Modular Ansible role-based architecture

------------------------------------------------------------------------

## Project Structure

    qa_linux_role/
    ├── tasks/
    │   ├── main.yml
    │   ├── prompts.yml
    │   ├── os_qa.yml
    │   ├── processor_qa.yml
    │   ├── network_qa.yml
    │   ├── storage_qa.yml
    │   ├── dns_qa.yml
    │   ├── registration_qa.yml
    │   ├── services_qa.yml
    │   └── report.yml
    │
    ├── vars/
    │   └── main.yml
    │
    ├── files/
    │   └── report.py
    │
    QA_Linux.yml
    Virtual_QA.xlsx

------------------------------------------------------------------------

## Requirements

### Ansible Control Node

-   Ansible 2.9+
-   Python 3
-   openpyxl

Install dependencies:

``` bash
pip install openpyxl
```

### Managed Hosts

-   RHEL / CentOS Linux
-   Python installed
-   Root or sudo privileges

------------------------------------------------------------------------

## How It Works

1.  Operator runs the Ansible playbook.
2.  Prompts collect metadata such as:
    -   Ticket Number
    -   Build By / QA By
    -   Server Type
    -   Monitoring Agent
3.  Ansible gathers system facts and performs validation checks.
4.  Results are passed to `report.py`.
5.  Excel QA report is generated automatically.

------------------------------------------------------------------------

## Usage

``` bash
ansible-playbook -i inventory QA_Linux.yml
```

Example inventory:

``` ini
[linux_servers]
server01 ansible_host=10.10.10.10
```

------------------------------------------------------------------------

## QA Checks Performed

### OS QA

-   Hostname
-   Distribution and Version
-   Kernel
-   Hardware details (physical servers)

### Processor QA

-   vCPU count
-   RAM allocation

### Network QA

-   IPv4 address
-   Subnet mask
-   Default gateway

### Storage QA

-   LVM disks
-   RAID controller (HP/Dell)
-   Multipath configuration

### DNS & AD QA

-   Centrify Agent detection
-   AD connectivity
-   resolv.conf validation
-   DNS lookup test

### OS Registration QA

-   Red Hat subscription validation

### Services QA

-   NTP
-   Monitoring agent
-   Backup agent
-   DS agent
-   VMware Tools
-   Kdump

------------------------------------------------------------------------

## Variables

Role variables are defined in:

    vars/main.yml

  Variable              Description
  --------------------- -----------------------------------------------
  monitoring_services   Mapping of monitoring agent → systemd service
  backup_service        Backup service name
  vmtools_service       VMware Tools service
  kdump_service         Kdump service
  excel_template        Excel template file
  excel_output          Generated report file

------------------------------------------------------------------------

## Report Generation

The report is generated by:

    files/report.py

This script:

-   Loads `Virtual_QA.xlsx`
-   Updates QA result fields
-   Applies PASS / FAIL formatting
-   Saves output as:

```{=html}
<!-- -->
```
    test.xlsx

------------------------------------------------------------------------

## Notes

-   Physical server checks require RAID controller selection.
-   DNS checks require a domain input during execution.
-   Some service checks may return inactive if not installed --- this is
    expected behaviour.

------------------------------------------------------------------------

## Future Improvements

-   Replace interactive prompts with CI/CD pipeline variables
-   Auto-detect monitoring agent instead of manual selection
-   Convert report generation to Ansible module for tighter integration
-   Add JSON output mode for API-based workflows

------------------------------------------------------------------------

## Author

Linux QA Automation Role\
Ansible + Python Based Infrastructure Validation
